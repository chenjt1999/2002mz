"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var ShoppingCar=function(){function n(e){_classCallCheck(this,n),this.boxDom=e}return _createClass(n,[{key:"addEvent",value:function(){for(var t=this,e=this.boxDom.firstElementChild.children,n=1;n<e.length-1;n++){var a=e[n].lastElementChild.previousElementSibling;a.firstElementChild.onclick=function(e){var n=e||window.event;t.reduce(n.target)},a.lastElementChild.onclick=function(e){var n=e||window.event;t.add(n.target)},a.children[1].onchange=function(e){var n=e||window.event;t.changeCount(n.target)}}}},{key:"changeCount",value:function(e){var n=parseFloat(e.value);this.calculateMoney(e,n)}},{key:"reduce",value:function(e){var n=e.parentNode.children[1],t=parseFloat(n.value);--t<0&&(t=0),n.value=t,this.calculateMoney(e,t)}},{key:"add",value:function(e){var n=e.parentNode.children[1],t=parseFloat(n.value);t++,n.value=t,this.calculateMoney(e,t)}},{key:"calculateMoney",value:function(e,n){var t=parseFloat(e.parentNode.previousElementSibling.innerHTML)*n;e.parentNode.nextElementSibling.innerHTML=t;for(var a=this.boxDom.firstElementChild.children,l=0,i=1;i<a.length-1;i++)l+=parseFloat(a[i].lastElementChild.innerHTML);this.boxDom.firstElementChild.lastElementChild.firstElementChild.innerHTML="合计："+l}}]),n}();